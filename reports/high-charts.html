<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>zoran high-charts</title>
    <script type='text/javascript' src='https://code.jquery.com/jquery-1.9.1.js'></script>
    <script type='text/javascript'>//<![CDATA[
    var data = [
  {
    "name": "lib/tree:Node.addNode",
    "y": 1.995534094234717,
    "tpc": 1.995534094234717,
    "sync": {
      "count": 10251,
      "total": 20456.220000000085
    },
    "async": {
      "count": 0,
      "total": 0
    }
  },
  {
    "name": "lib/tree:Node.updateCount",
    "y": 0.12724904887328042,
    "tpc": 0.12724904887328042,
    "sync": {
      "count": 10251,
      "total": 1304.4299999999976
    },
    "async": {
      "count": 0,
      "total": 0
    }
  },
  {
    "name": "lib/tree:Node.sumCount",
    "y": 0.015589061824470871,
    "tpc": 0.015589061824470871,
    "sync": {
      "count": 9252,
      "total": 144.2300000000045
    },
    "async": {
      "count": 0,
      "total": 0
    }
  },
  {
    "name": "lib/tree:EndNode.addNode",
    "y": 0.6251402805611221,
    "tpc": 0.6251402805611221,
    "sync": {
      "count": 998,
      "total": 623.8899999999999
    },
    "async": {
      "count": 0,
      "total": 0
    }
  }
];
    $(function() {
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                plotBackgroundColor: null,
                plotBorderWidth: 1,//null,
                plotShadow: false
            },
            title: {
                text: "<a href='https://www.npmjs.org/package/zoran'>zoran</a> high-charts total calls (30752) total attached (5)",
                useHTML: true
            },
            subtitle: {
                text: '<div align="center"><form>' +
                      '<label title="The average time a function took (time per call)"><input type="radio" onclick="radioClicked(this);" name="dataType" value="average" checked />average</label>' +
                      '<label title="The total time a function took in milliseconds"><input type="radio" onclick="radioClicked(this);" name="dataType" value="total" />total time</label>' +
                      '<label title="The total count a function has been called"><input type="radio" onclick="radioClicked(this);" name="dataType" value="count" />total calls</label>' +
                      '</form></div>',
                useHTML: true
            },
            tooltip: {
                pointFormat: '--------------------------------------<br><b>{point.name}</b>: {point.percentage:.1f} %<br>Time per call: <b>{point.tpc} ms</b><br>Total async calls: <b>{point.async.count}</b><br>Total async time: <b>{point.async.total} ms</b><br>Total sync calls: <b>{point.sync.count}</b><br>Total sync time: <b>{point.sync.total} ms</b>'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                        style: {
                            color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                        }
                    }
                }
            },
            series: [
                {
                    type: 'pie',
                    name: 'functions',
                    data: data
                }
            ]
        });
    });
    function radioClicked() {
        var i;
        var value = $("input:radio[name ='dataType']:checked").val();
        switch(value) {
            case "average":
                for(i = 0; i < data.length; i++) {
                    data[i].y = data[i].tpc;
                }
                break;
            case "count":
                for(i = 0; i < data.length; i++) {
                    data[i].y = (data[i].async.count + data[i].sync.count);
                }
                break;
            case "total":
                for(i = 0; i < data.length; i++) {
                    data[i].y = (data[i].async.total + data[i].sync.total);
                }
                break;
        }
        chart.series[0].setData(data, true);
    }
    //]]>
    </script>
</head>
<body>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<div id="container" style="min-width: 300px; height: 800px; margin: 0 auto"></div>
</body>
</html>